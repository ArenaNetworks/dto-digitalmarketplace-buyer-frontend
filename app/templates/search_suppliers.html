{% extends "_base_page.html" %}

{% block page_title %}Suppliers Search â€“ Marketplace{% endblock %}

{% block body_classes %} catalog {% endblock %}
{% block main_content %}
    <div>
        <form action="{{ search_url }}">

            {#              ------------------------------- Disable search for now ----------#}
            {#				<div>#}
            {#					<h2>Search by</h2>#}
            {#					<fieldset>#}
            {#						<label for=q>Keyword</label>#}
            {#						<input id=q type=search value="{{ search_keywords }}">#}
            {#					</fieldset>#}
            {#				</div>#}
            {#            ------------------------------------------------------------------ #}

            <div>
                <div>
                    <h2>Filter by</h2>
                    <a href='/search/suppliers' class=clear-all>Clear all</a>
                </div>
                {% for filter in filters %}
                    <label>{{ filter.name }}</label>
                    <fieldset>
                        {% for option in filter.options %}
                            <label><input type=checkbox name="{{ option.name }}" value="{{ option.value }}"
                                          {% if option.checked %}checked{% endif %}>{{ option.label }}</label>
                        {% endfor %}
                    </fieldset>
                {% endfor %}
            </div>
            <input type=submit value="Apply filter results">
        </form>
        <a href="" style="">I don't see what I need</a>
    </div>
    <div>
        <div>{% if num_results %}{{ num_results }} Suppliers{% endif %}</div>

        <div>

            {# keep it for later stage. Also, do we really need it? #}
            {#        <span>Sort By:</span> <span>A to Z</span> #}

            <span>{% if num_results %}Showing {{ results_from }}-{{ results_to }} suppliers of {{ num_results }}
            {% else %}No results found{% endif %}</span>
        </div>

        {% for result in results %}
            <div>
                <h2><a href="{{ result.url }}">{{ result.title }}</a></h2>

                <div>{% if result.description %}{{ result.description }}{% endif %}</div>
                <div>
                    {% for badge in result.badges %}
                        <div class="{{ badge.css_class }}">{{ badge.label }}</div>
                    {% endfor %}
                </div>
                <div>
                    <h3>Service capabilities</h3>
                    <ul>
                        {% for role in result.roles %}
                            <li class="{% if role.label in role_list_from_request %}selected{% endif %}">{{ role.label }}</li>
                        {% endfor %}
                    </ul>
                </div>

                {# ----------------------------- This is for later stage ----------------- #}
                {#				<div>#}
                {#					<dl>#}
                {#						{% for detail in result.extra_details %}#}
                {#						<dt>{{ detail.key }}</dt>#}
                {#						<dd>{{ detail.value }}</dt>#}
                {#						{% endfor %}#}
                {#					</dl>#}
                {#					<a href="{{ result.url }}">See supplier's profile</a>#}
                {#				</div>#}
                {#            -------------------------------------------------------------------------#}

            </div>
        {% endfor %}
    </div>
    {% if num_results %}
        <div>
            <div>
                page {{ page }} of {{ num_pages }}
            </div>

            <div>
                <ul>
                    {% for pg in pages %}
                        <li class="{% if pg == page %}current{% endif %}">
                            {% if pg != '...' %}
                                <a href="?page={{ pg }}{% for role in role_list_from_request %}&role={{ role }}{% endfor %}">{{ pg }}</a>
                            {% else %}
                                <span>{{ pg }}</span>
                            {% endif %}
                        </li>
                    {% endfor %}
                </ul>
            </div>
        </div>
    {% endif %}
{% endblock %}